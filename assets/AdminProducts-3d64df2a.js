import{_,o as s,c as n,d as t,n as p,j as u,F as h,f as g,t as r,r as k,a as P,b as f}from"./index-0324c1e5.js";const v={props:["pages"],methods:{updatePage(c){this.$emit("emitPages",c)}}},x={"aria-label":"Page navigation example"},$={class:"pagination justify-content-center"},b=t("span",{"aria-hidden":"true"},"«",-1),y=[b],C={key:0,class:"page-link"},w=["onClick"],N=t("span",{"aria-hidden":"true"},"»",-1),B=[N];function E(c,i,e,m,l,d){return s(),n("nav",x,[t("ul",$,[t("li",{class:p([{disabled:!e.pages.has_pre},"page-item"])},[t("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:i[0]||(i[0]=u(a=>d.updatePage(e.pages.current_page-1),["prevent"]))},y)],2),(s(!0),n(h,null,g(e.pages.total_pages,a=>(s(),n("li",{class:p(["page-item",{active:e.pages.current_page===a}]),key:a},[a===e.pages.current_page?(s(),n("span",C,r(a),1)):(s(),n("a",{key:1,class:"page-link",href:"#",onClick:u(o=>d.updatePage(a),["prevent"])},r(a),9,w))],2))),128)),t("li",{class:p(["page-item",{disabled:!e.pages.has_next}])},[t("a",{class:"page-link",href:"#","aria-label":"Next",onClick:i[1]||(i[1]=u(a=>d.updatePage(e.pages.current_page+1),["prevent"]))},B)],2)])])}const V=_(v,[["render",E]]),j={props:["token"],data(){return{products:[],pagination:{}}},components:{Pagination:V},methods:{getProducts(c=1){const i=`https://vue3-course-api.hexschool.io/v2/api/harper/admin/products?page=${c}`;this.$http.get(i).then(e=>{this.products=e.data.products,this.pagination=e.data.pagination}).catch(e=>{alert(e.response.data.message),this.$router.push("/login")})}},mounted(){this.getProducts()}},F={class:"table mt-4"},z=t("thead",null,[t("tr",null,[t("th",{width:"120"},"分類"),t("th",null,"產品名稱"),t("th",{width:"120"},"原價"),t("th",{width:"120"},"售價"),t("th",{width:"100"},"是否啟用")])],-1),A={class:"text-end"},D={class:"text-end"},L={key:0,class:"text-success"},M={key:1};function S(c,i,e,m,l,d){const a=k("Pagination");return s(),n("div",null,[P(" 這裡是 後台 產品列表 "),t("table",F,[z,t("tbody",null,[(s(!0),n(h,null,g(l.products,o=>(s(),n("tr",{key:o.id},[t("td",null,r(o.category),1),t("td",null,r(o.title),1),t("td",A,r(o.origin_price),1),t("td",D,r(o.price),1),t("td",null,[o.is_enabled?(s(),n("span",L,"啟用")):(s(),n("span",M,"未啟用"))])]))),128))])]),f(a,{pages:l.pagination,onEmitPages:d.getProducts},null,8,["pages","onEmitPages"])])}const q=_(j,[["render",S]]);export{q as default};
